# Sửa lỗi và mẹo

Dưới đây là cách sửa những lỗi thường gặp khi chơi các game Nobihaza, và một số mẹo để có thể tối ưu hoá game trên Windows.

Phần này có sử dụng lại một số ảnh từ [hướng dẫn cũ năm 2018 của mình](https://gamerpgmakervn.blogspot.com/2018/07/huong-dan-fix-moi-loi-trong-game-rpg.html).

Chỉ nên báo cáo lỗi cho nhà phát triển của game nếu như đã làm hết tất cả hướng dẫn dưới đây mà vẫn chưa hết lỗi.

## RPG Maker 2000/2003 (`RPG_RT.exe`)

### `XXXX 乗り物 は開けません` (Không thể mở file XXXX) / `???????????????????` (một đống dấu hỏi chấm)

![38](image-37.png)

* Thường thì lỗi này là do bạn chưa chuyển vùng của máy thành Nhật Bản nên game sẽ không thể đọc được các tệp tin có tên tiếng Nhật.<br>Xem lại [Điều kiện cơ bản#Chuyển vùng của máy thành Nhật Bản](1.%20Điều%20kiện%20cơ%20bản.md#chuyển-vùng-của-máy-thành-nhật-bản).

* Cũng có thể là do tệp tin đó thực sự không có trong thư mục game. Thử giải nén lại tệp tin nén của game và kiểm tra xem có lỗi nào trong quá trình giải nén không.

### `RPGツクール2000/2003のランタイムパッケージがセットアップされていません。` (Gói khởi chạy của RPG Maker 2000/2003 chưa được cài đặt)

![28](image-27.png)

Xem lại [Điều kiện cơ bản#RPG Maker 2000/2003](1.%20Điều%20kiện%20cơ%20bản.md#rpg-maker-20002003).

### Một đống thông báo lỗi `Not implemented`

![29](image-28.png)

Lỗi này xảy ra nhiều nhất khi máy tính của bạn không có thiết bị âm thanh nào, và khi di chuột vào biểu tượng loa trên thanh Taskbar thì sẽ nhận được thông báo như thế này:

![30](image-30.png)

* Trước tiên thì bởi vì thông báo lỗi sẽ xuất hiện rất nhiều nên bạn cần tắt nóng `RPG_RT.exe` đi. Có thể dùng **Trình quản lý tác vụ** (Task Manager), hoặc nhấn tổ hợp `Windows + R` rồi nhập `taskkill /f /im RPG_RT.exe` và nhấn OK:

![30](image-29.png)

* Nếu bạn đang sử dụng máy tính để bàn (desktop), hãy cắm loa hoặc tai nghe bất kì vào trước. Nếu không còn dấu X màu đỏ ở biểu tượng loa dưới thanh Taskbar nữa thì tức là mọi thứ đã ổn.

* Kiểm tra lại trình điều khiển (driver) âm thanh trên máy tính của bạn. Cách nhanh nhất là tra tên máy tính (nếu dùng laptop hoặc máy tính đồng bộ) hoặc tên mainboard/soundcard (nếu là máy tính để bàn) để tải bản driver mới nhất.
    * Ví dụ như máy tính của mình là **Acer Nitro 5 AN515-57** thì mình sẽ tìm trên Google là **Acer Nitro 5 AN515-57 drivers**:<br>
    ![32](image-31.png)
    * Nhấn vào trang Support của hãng và nhấn vào tab **Drivers**. Lúc này danh sách các driver sẽ hiện ra:<br>
    ![33](image-32.png)
    * Chọn đúng hệ điều hành đang sử dụng, tìm đến driver Audio mới nhất (có ngày cập nhật gần nhất) và nhấn nút **Download**. Sau đó tiến hành cài đặt như các phần mềm khác.

* Có một số trường hợp hy hữu khác ít xảy ra hơn nhưng bạn cũng có thể kiểm tra:
    * Nhấn tổ hợp `Windows + R` để mở cửa sổ Run, nhập `services.msc` và nhấn OK.<br>
    ![34](image-33.png)
    * Kéo xuống đến phần **Windows Audio** và kiểm tra xem có chữ **Running** nào không. Nếu không thì nhấn chuột phải vào Windows Audio và nhấn **Start**:<br>
    ![35](image-34.png)
    * Lại nhấn tổ hợp `Windows + R`, nhập `devmgmt.msc` rồi nhấn OK.<br>
    ![36](image-35.png)
    * Kéo xuống và mở rộng phần **Sound, video and game controllers** lên. Nếu thấy thiết bị nào có dấu mũi tên ở biểu tượng thì bạn hãy nhấn chuột phải vào nó và chọn **Enable device**:<br>
    ![37](image-36.png)

* Sau khi đã làm xong tất cả những cách trên, hãy khởi động lại máy để xem đã sửa được lỗi chưa.

## RPG Maker 2000/2003 (EasyRPG)

Xem tại mục [EasyRPG](../6.%20EasyRPG.md).

## RPG Maker XP/VX/VX Ace

### RPGVX/RPGVXAce RTP is required to run this game

![27](image-26.png)

Xem lại [Điều kiện cơ bản#RPG Maker XP/VX/VX Ace](1.%20Điều%20kiện%20cơ%20bản.md#rpg-maker-xpvxvx-ace).

### RGSS202E.dll/RGSS202J.dll/RGSS300.dll/RGSS301.dll could not be found

![39](image-38.png)

* [Cài đặt lại toàn bộ gói khởi chạy (RTP) của RPG Maker VX Ace](1.%20Điều%20kiện%20cơ%20bản.md#rpg-maker-xpvxvx-ace).

* Nếu cài đặt lại rồi nhưng vẫn không được, bạn cũng có thể [tải chay các tệp tin .dll đó](https://drive.google.com/file/d/1QTGjntOWisoUzk3NTfSBfk0bT2fNYBKc/view) và giải nén vào thư mục `System` của game.

### Failed to initialize DirectX audio

![40](image-39.png)

Cách sửa giống như lỗi [Not implemented của RPG Maker 2000/2003](#một-đống-thông-báo-lỗi-not-implemented).

### File corrupted! Please run a virus check / Cannot find Game.ini

![41](image-40.png)

Trong thanh tiêu đề của thông báo lỗi sẽ ghi đường dẫn tệp tin bị lỗi.

* Nếu đường dẫn trong thông báo có chứa dấu hỏi chấm (`?`), thì đường dẫn thư mục game của bạn đang chứa kí tự đặc biệt (kể cả tiếng Việt có dấu). Xem dấu `?` nằm ở (các) thư mục nào trong đường dẫn, và xoá **tất cả** kí tự đặc biệt trong thư mục đó.

* Tệp tin đó cũng có thể bị lỗi trong quá trình giải nén, hãy thử giải nén lại tệp tin nén của game.

* Máy bạn đang thực sự bị nhiễm virus và làm lỗi tệp tin kể trên, hãy quét virus trên toàn bộ máy tính và tải lại game.

### Unable to find VL Gothic font.

![42](image-41.png)

Xem lại [Điều kiện cơ bản#Font VL Gothic](1.%20Điều%20kiện%20cơ%20bản.md#font-vl-gothic).

### Script error

![43](image-42.png)

Không còn cách nào khác, bạn bắt buộc phải liên hệ với nhà phát triển để sửa lỗi này.

### Failed to load script

![44](image-43.png)

Bạn đã xoá nhầm tệp tin `Game.rgss3a` hoặc thư mục `Data` của game, hãy giải nén lại tệp tin nén của game và thử lại.

### Unable to find file

![45](image-44.png)

Cách sửa giống như mục [`XXXX 乗り物 は開けません` (Không thể mở file XXXX) / `???????????????????` (một đống dấu hỏi chấm) của RPG Maker 2000/2003](#xxxx-乗り物-は開けません-không-thể-mở-file-xxxx---một-đống-dấu-hỏi-chấm).

### DirectDraw Error (`DDERR_UNSUPPORTED`)

![46](image-45.png)

* Xem lại [Điều kiện cơ bản#DirectX End-User Runtime](1.%20Điều%20kiện%20cơ%20bản.md#directx-end-user-runtime).

* Phiên bản trình điều khiển (driver) của bạn đã quá cũ, xem mục [Nâng cấp trình điều khiển card đồ họa](#nâng-cấp-trình-điều-khiển-card-đồ-họa).

* Card đồ họa của bạn đã quá cũ, hãy nâng cấp máy tính / thay card đồ họa mới (nếu đang sử dụng máy tính để bàn).

* Cũng có một số trường hợp hy hữu là do màn hình máy tính của bạn, hãy thử thay màn hình mới hoặc dây cáp kết nối / cổng kết nối.

## RPG Maker MV/MZ

### Your browser does not support WebGL

![47](image-46.png)

* Phiên bản hệ điều hành của bạn đã quá cũ. Hãy đảm bảo bạn đã nâng cấp lên phiên bản mới nhất.

* Phiên bản trình điều khiển (driver) của bạn đã quá cũ, xem mục [Nâng cấp trình điều khiển card đồ họa](#nâng-cấp-trình-điều-khiển-card-đồ-họa).

* Card đồ họa của bạn đã quá cũ, hãy nâng cấp máy tính / thay card đồ họa mới (nếu đang sử dụng máy tính để bàn).

### Loading Error (`Failed to load`)

Cách sửa giống như mục [`XXXX 乗り物 は開けません` (Không thể mở file XXXX) / `???????????????????` (một đống dấu hỏi chấm) của RPG Maker 2000/2003](#xxxx-乗り物-は開けません-không-thể-mở-file-xxxx---một-đống-dấu-hỏi-chấm).

Tuy nhiên có một số trường hợp hy hữu là do lỗi của NW.js, hãy tham khảo thêm cả mục [Nâng cấp phiên bản NW.js](#nâng-cấp-phiên-bản-nwjs).

### (Script) Error

![48](image-47.png)

Bạn bắt buộc phải liên hệ với nhà phát triển về lỗi này.

### Failed to load: `data/Actors.json`

![49](image-48.png)

Bạn đang cố gắng chạy tệp tin `index.html` của game trên trình duyệt.

* Hãy chạy tệp tin `Game.exe` thay vào đó.

* Nếu bạn vẫn muốn chạy game trên trình duyệt, hãy sử dụng một máy chủ web nội bộ (local web server) và cho thư mục game có chứa tệp `index.html` vào đó. Sau đó, hãy nhập địa chỉ của tệp `index.html` **trong máy chủ web nội bộ** thay vì chạy thẳng tệp tin `index.html`. Xem mục [Chạy game RPG Maker MV trên trình duyệt](#chạy-game-rpg-maker-mv-trên-trình-duyệt) để tìm hiểu rõ hơn.

### Your profile can not be used because it is from a newer version of NW.js

![50](image-49.png)

Có một số game/ứng dụng đang dùng phiên bản NW.js mới hơn, và game bạn đang chạy sử dụng phiên bản NW.js cũ hơn nên mới xảy ra lỗi xung đột này.

Bạn có thể hoàn toàn bỏ qua lỗi này và tiếp tục chơi mà không ảnh hưởng gì thêm tới trải nghiệm, nhưng nếu bạn muốn sửa lỗi này triệt để thì:

* Nâng cấp **toàn bộ** game RPG Maker MV (và ứng dụng NW.js khác nếu có) trong máy bạn lên cùng một phiên bản NW.js. Xem mục [Nâng cấp phiên bản NW.js](#nâng-cấp-phiên-bản-nwjs) để biết thêm chi tiết.

* Nhấn tổ hợp `Windows + R` để mở cửa sổ Run, sau đó nhập `%localappdata%` và nhấn OK.

* Xoá thư mục `nwjs` trong cửa sổ vừa mở.

![51](image-50.png)

* Cuối cùng là khởi động lại game.

### Your file was not found

![52](image-51.png)

Bạn đã xoá nhầm tệp tin `index.html` của game, hãy giải nén lại game từ tệp tin nén và thử lại.

### `Required value 'name' is missing or invalid`

![54](image-53.png)

Lỗi này thường xảy ra với một số game sử dụng phiên bản NW.js mới hơn.

* Mở tệp tin `package.json` bằng bất kì trình soạn thảo văn bản nào.

* Thêm chữ `Game` vào trong dấu ngoặc kép sau từ `name` ở dòng 2 như ảnh bên dưới:

![55](image-54.png)

* Lưu lại tệp tin `package.json` và khởi động lại game.

### Failed to load extension from XXXX (lỗi khác với bên trên)

![53](image-52.png)

Tệp tin `package.json` của game đang bị lỗi, hãy thử:

* Giải nén lại game từ tệp tin nén và thử lại.

* Tự sửa lỗi trong tệp tin `package.json` nếu như bạn có am hiểu về ngôn ngữ JSON và Node.js.

* Báo cáo lỗi này cho nhà phát triển.

### NW.js sử dụng quá nhiều RAM (trên 4 GB) khi vừa mới khởi động game

Cái này có một cái tên thân thuộc hơn với dân công nghệ là **memory leak** (tràn bộ nhớ). Tuy trường hợp này hiếm gặp nhưng vẫn có máy gặp phải, kể cả máy của mình.

* Thử tải một phiên bản khác của NW.js về và làm theo mục [Nâng cấp phiên bản NW.js](#nâng-cấp-phiên-bản-nwjs).

* Nếu đang sử dụng phiên bản `32-bit` trên máy `64-bit`, bạn cũng có thể tải bản `64-bit` của NW.js về và làm như mục trên.

### Game bị crash trong quá trình chơi

Có rất nhiều lý do khiến game bị crash do quá trình chơi:

* Lỗi thường gặp nhất là do game sử dụng quá nhiều RAM nên vượt quá giới hạn 4GB RAM của bản `32-bit`.
    * Nếu bạn đang sử dụng Windows phiên bản `64-bit`, bạn có thể tải bản `64-bit` của NW.js về để bỏ giới hạn 4GB RAM của bản `32-bit`.
    * Bạn cũng có thể dùng **Trình quản lý tác vụ** (Task Manager) để kiểm tra mức sử dụng RAM của máy tính. Nếu thấy máy tính đang tiêu tốn quá nhiều RAM khi chơi game, hãy xét tới việc tắt bớt phần mềm chạy ngầm, tắt RAM ảo hoặc nâng cấp RAM cho máy tính.

* Game đang gặp trường hợp tương tự như mục **NW.js sử dụng quá nhiều RAM (trên 4 GB) khi vừa mới khởi động game** ở bên trên.

* Game cũng có thể đang gặp lỗi lập trình nghiêm trọng, bạn có thể báo cáo với nhà phát triển game về sự cố này.
